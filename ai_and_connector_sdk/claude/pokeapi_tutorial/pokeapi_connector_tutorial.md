# Pokemon API Connector Tutorial

## What This Tutorial Does

This tutorial is intended to be read in tandem with our [Building a Fivetran Connector in 1 Hour with Claude AI](https://www.fivetran.com/blog/building-a-fivetran-connector-in-1-hour-with-anthropics-claude-ai) blog post that was published in March 2024. You will build a **Fivetran Connector** that automatically syncs Pokemon data from the PokeAPI. You'll learn how we:

- Setup Claude to run in our terminal
- Cloned the Fivetran Connector SDK Examples to provide context
- Worked with and prompted Claude
- Itterated and tested the Connector code Claude generated
- Deployed the connector and saw it running int production

**Perfect for**: Data engineers, analysts, and developers who want to try out creating connectors with AI.

## Prerequisites

### Technical Requirements
- **Python 3.9 - 3.12+** installed on your machine
- **Basic Python knowledge** (functions, dictionaries, loops)
- **Fivetran Connector SDK** (we'll install this)

### API Access
- **PokeAPI** (completely free, no authentication required)
  - Public API endpoint: https://pokeapi.co/api/v2/pokemon/
  - No rate limits for basic usage
  - Comprehensive Pokemon data available

### Development Environment
- **Access to Claude** (in terminal like the blog, in IDE chat, or independent web access)
- **Terminal/Command line** access
- **Internet connection** for API calls

## Connector SDK Files

In this example, two of the three core files are generated to create this Connector SDK:

### 1. `connector.py` - Main Connector Logic
```python
# This is your main connector file
# Contains all the Pokemon API connecion logic
# Handles data fetching, processing, and passing to Fivetran
```

### 2. `config.json` - Settings
```json
{
    "limit": "100",
    "request_delay": "1.0",
    "api_base_url": "https://pokeapi.co/api/v2"
}
```

### 3. `requirements.txt` - Dependencies
No additional dependencies are needed for this API, so this file was correctly skipped by the AI agent.

## Context and The Prompt

In this case, we provided context by copying and pasting the [Fivetran Connector SDK technical reference](https://fivetran.com/docs/connector-sdk/technical-reference).
We also generated this [Claude.md](https://github.com/fivetran/fivetran_connector_sdk/tree/main/ai_and_connector_sdk/claude/CLAUDE.md) file.

Here's the original prompt that created this connector:

> Iâ€™d like you to help me create and test a Fivetran connector SDK connector to gather lots of data from the PokÃ©API and deliver that into my destination in Fivetran.

Then
> now I want to test the connector

That was all in this case. We weren't particularly concerned about which data was synced or its schema. In this exploration, four tables were successfully created and populated.

## How to try out the Claude code created during the blog

1. **Create your project folder**:
   ```bash
   mkdir pokemon-connector
   cd pokemon-connector
   ```

2. **Copy the two files** above into your folder: <br>
   You don't need the state.json and warehouse.db from the files/ directory. They are autogenerated when you run `fivetran debug` for local testing and are included for completeness and independent inspection. 

3. **Test the connector**:
   ```bash
   fivetran debug --configuration config.json
   ```

6. **Check your data**:
   ```bash
   duckdb files/warehouse.db ".tables"
   duckdb files/warehouse.db "SELECT * FROM tester.pokemon"
   ```

## Next Steps

Once you've got the connector Claude generated for us working, try using AI to enhance or change it:

1. **Extract more fields** ask AI to help change the schema or add more endpoints
2. **Add custom data transformations** work with AI to change how the data is represented in your destination
3. **Add data validation** for quality assurance
4. **Deploy to production** with proper monitoring
5. **Try different models** see our other tutorials
6. **Try creating a Connector for a different API** start meeting your own customer data needs

## Troubleshooting

### Common Issues

1. **API Timeout**: Increase timeout value in requests.get()
2. **Field Extraction Errors**: Check API response structure
3. **JSON Conversion Issues**: Verify data types before conversion
4. **Primary Key Conflicts**: Ensure unique key generation

### API Response Structure

The PokeAPI returns complex nested JSON. Our connector:
- Extracts only the top-level fields
- Converts nested structures to JSON strings
- Maintains data integrity while simplifying storage

## Need Help?

- **PokeAPI Documentation**: https://pokeapi.co/docs/v2
- **Fivetran SDK Docs**: https://fivetran.com/docs/connector-sdk
- **Pokemon Database**: https://pokeapi.co/api/v2/pokemon/
- **API Status**: https://pokeapi.co/

## Example Output

After running the connector, you'll see data like:
```sql
SELECT * FROM pokemon;
```

| id | name | height | weight | ... | species_name | image_url | _fivetran_synced | _fivetran_deleted |
|---|----|------|----------|-----|--------|-----------|-------|--------------|
| 1 | bulbasaur | 7 | 69 | ... | bulbasaur | https://raw.github... | 2025-07-09 15:43:3... | false |
| 2 | ivysaur | 10 | 130 | ... | ivysaur | https://raw.github... | 2025-07-09 15:43:3... | false |

Happy building! ðŸŽ® 
